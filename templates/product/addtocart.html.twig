{% extends 'base.html.twig' %}

{% block title %}Product index{% endblock %}

{% block body %}
    <div class="container-fluid">
        <table id="cart" class="table table-hover table-condensed">
            <thead>
            <tr>
                <th style="width:50%">Product</th>
                <th style="width:10%">Price</th>
                <th style="width:8%">Quantity</th>
                <th style="width:22%" class="text-center">Subtotal</th>
                <th style="width:10%"></th>
            </tr>
            </thead>
            <tbody>
            {% for product in Products %}
            <tr>
                <td data-th="Product">
                    <div class="row">
                        <div>
                            <img src="http://placehold.it/100x100" alt="..." class="img-responsive"/>
                        </div>
                        <div class="ml-5">
                            <h4 class="nomargin">{{ product.Product.name }}</h4>
                            <p>{{ product.Product.description }}</p>
                        </div>
                    </div>
                </td>
                <td data-th="Price">€<span class="product_price">{{ product.Product.price }}</span></td>
                <td data-th="Quantity">
                    <input type="number" class="form-control text-center product_aantal" value="{{ product.Amount }}">
                </td>
                <td data-th="Subtotal" class="text-center">€
                    {% set subtotal = product.Amount * product.Product.price %}
                    {{ subtotal }}
                </td>
                <td class="actions" data-th="">
                    <a style="color: white;" href="{{ path('product_addtocart', {'id': product.Product.id}) }}"
                       class="btn btn-info btn-sm"><i class="fa fa-plus"></i></a>
                    <a class="btn btn-danger btn-sm"><i class="fa fa-trash-o"></i></a>
                </td>
            </tr>
            </tbody>
            {% else %}
                <tr>
                    <p>Er zijn momenteel geen items in de winkel.</p>
                </tr>
            {% endfor %}
            <tfoot>

            <tr>
                <td><a href="{{ path('product_index') }}" class="btn btn-warning"><i class="fa fa-angle-left"></i>
                        Continue Shopping</a></td>
                <td colspan="2" class=""></td>
                <td class="text-center"><strong>€{{ total }}</p></strong></td>

                <td><a href="{{ path('product_checkout') }}" class="btn btn-success btn-block">Checkout <i
                                class="fa fa-angle-right"></i></a></td>
            </tr>
            </tfoot>
        </table>


    </div>
{% endblock %}
