{% extends 'base.html.twig' %}

{% block title %}Product index{% endblock %}

{% block body %}
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <div class="container-fluid">
        <table id="cart" class="table table-hover table-condensed">
            <thead>
            <tr>
                <th style="width:50%">Product</th>
                <th style="width:10%">Price</th>
                <th style="width:8%">Quantity</th>
                <th style="width:8%"></th>
                <th style="width:22%" class="text-center">Subtotal</th>
                <th style="width:10%"></th>
            </tr>
            </thead>
            <tbody>
            {% for product in Products %}
            <tr>
                <td data-th="Product">
                    <div class="row">
                        <div class="col-sm-2"><img src="http://placehold.it/100x100" alt="..." class="img-responsive"/></div>
                        <div class="col-sm-10">
                            <h4 class="nomargin">{{ product.Product.id }}</h4>
                            <p>{{ product.Product.description }}</p>
                        </div>
                    </div>
                </td>
                <td data-th="Price">â‚¬<span class="product_price">{{ product.Product.price }}</span></td>
                <td data-th="Quantity">
                    {#<input type="number" class="form-control text-center product_aantal" value="{{ product.Amount }}">#}
                    <p class="product_aantal">{{ product.Amount }}</p>
                </td>
                <td></td>
                {% set total = product.Amount * product.Product.price %}
                <td data-th="Subtotal" class="text-center">{{ total }}</td>
            </tr>
            </tbody>
            {% else %}
                <tr>
                    <p>Er zijn momenteel geen items in de winkel.</p>
                </tr>
            {% endfor %}
            <tfoot>
            {% for product in Products %}
                <tr class="visible-xs">
                    <td class="text-center"><strong>{{ product.Product.price }}</strong></td>
                </tr>
            {% endfor %}
            <tr>
                <td><a href="{{ path('product_index') }}" class="btn btn-warning"><i class="fa fa-angle-left"></i> Continue Shopping</a>
                <td></td>
                <td></td>
                <td></td>
                <td class="text-center"><strong><p>{{ total }}</p></strong></td>
                {#<td><a href="{{ path('product_checkout') }}" class="btn btn-success btn-block">Checkout <i class="fa fa-angle-right"></i></a></td>#}
                <td></td>
            </tr>
            <tr>
                <td class="pt-5">
                    {{ form_start(submitForm) }}
                    {{ form_widget(submitForm) }}
                    <input type="submit" class="btn btn-success btn-block" value="Checkout">
                    {{ form_end(submitForm) }}
                </td>
            </tr>

            </tfoot>

        </table>

    </div>

{% endblock %}
